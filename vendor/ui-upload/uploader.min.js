/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.4.0 - 2017-02-14T02:35:18.253Z
 * License: MIT
 */
!function(){"use strict";function o(o){function n(o){for(var n=0;n<o.length;n++)r.files.push(o[n])}function e(){return r.files}function i(o){r.options=o;for(var n=o.headers||{},e=0;e<r.files.length&&r.activeUploads!=r.options.concurrency;e++)r.files[e].active||l(r.files[e],r.options.url,r.options.data,r.options.paramName,n)}function t(o){r.files.splice(r.files.indexOf(o),1)}function s(){r.files.splice(0,r.files.length)}function a(o){var n=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],e=0===o?0:+Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,e)).toFixed(e?1:0)+" "+n[isNaN(o)?0:e+1]}function l(o,n,e,t,s){var l,p,u;if(e=e||{},t=t||"file",r.activeUploads+=1,o.active=!0,l=new window.XMLHttpRequest,e.withCredentials===!0&&(l.withCredentials=!0),p=new window.FormData,l.open("POST",n),s)for(var d in s)s.hasOwnProperty(d)&&l.setRequestHeader(d,s[d]);if(l.upload.onloadstart=function(){},l.upload.onprogress=function(n){n.lengthComputable&&(o.loaded=n.loaded,o.humanSize=a(n.loaded),angular.isFunction(r.options.onProgress)&&r.options.onProgress(o))},l.upload.onload=function(){angular.isFunction(r.options.onUploadSuccess)&&r.options.onUploadSuccess(o)},l.upload.onerror=function(o){angular.isFunction(r.options.onError)&&r.options.onError(o)},l.onload=function(){r.activeUploads-=1,r.uploadedFiles+=1,i(r.options),angular.isFunction(r.options.onCompleted)&&r.options.onCompleted(o,l.responseText,l.status),0===r.activeUploads&&(r.uploadedFiles=0,angular.isFunction(r.options.onCompletedAll)&&r.options.onCompletedAll(r.files))},e)for(u in e)e.hasOwnProperty(u)&&p.append(u,e[u]);return p.append(t,o,o.name),l.send(p),l}var r=this;return r.files=[],r.options={},r.activeUploads=0,r.uploadedFiles=0,o.info("uiUploader loaded"),{addFiles:n,getFiles:e,files:r.files,startUpload:i,removeFile:t,removeAll:s}}angular.module("ui.uploader",[]).service("uiUploader",o),o.$inject=["$log"]}();